import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,a as o,d as p,e as n,b as t,f as r,r as s,o as d}from"./app-DokaGNO4.js";const l={};function m(g,e){const i=s("RouteLink");return d(),c("div",null,[e[4]||(e[4]=o("p",null,[o("code",null,"docker run -it --rm viva_backend /bin/bash"),o("img",{src:"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F07%2F20%2F22-46-47-16d0d8394aee51737c6924bf849aa23c-20240720224647-c2b05e.png",alt:"image.png|1000",loading:"lazy"})],-1)),o("p",null,[p(i,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/Orbstack.html"},{default:n(()=>e[0]||(e[0]=[t("Orbstack")])),_:1}),e[2]||(e[2]=t(" 是 ")),p(i,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/MacBook.html"},{default:n(()=>e[1]||(e[1]=[t("MacBook")])),_:1}),e[3]||(e[3]=t(" 用 docker 的最佳实践"))]),e[5]||(e[5]=r('<p>从这个错误看，问题可能出在 SSL 握手阶段。让我们一步步检查：</p><ol><li>首先检查 443 端口是否被 Nginx 正确监听：</li></ol><p>bash</p><p>Copy</p><p><code># 在服务器上运行 sudo netstat -tulpn | grep :443 # 或者用 docker 命令检查 docker-compose exec frontend netstat -tulpn | grep :443</code></p><ol start="2"><li>检查证书和密钥的权限：</li></ol><p>bash</p><p>Copy</p><p><code>ls -l ~/viva/ssl/ # 确保权限是 644 对于 cert.pem，600 对于 key.pem chmod 644 ~/viva/ssl/cert.pem chmod 600 ~/viva/ssl/key.pem</code></p><ol start="3"><li>检查 Nginx 配置文件在容器中的实际位置：</li></ol><p>bash</p><p>Copy</p><p><code># 进入容器 docker-compose exec frontend bash # 查看 nginx 配置 nginx -T # 检查证书文件是否正确挂载 ls -l /etc/nginx/ssl/</code></p><ol start="4"><li>查看 Nginx 错误日志：</li></ol><p>bash</p><p>Copy</p><p><code>docker-compose exec frontend tail -f /var/log/nginx/error.log</code></p><ol start="5"><li>验证前端容器的 Dockerfile 是否正确配置了 SSL：</li></ol><p>bash</p><p>Copy</p><p><code># 检查 viva-frontend/Dockerfile 内容 cat viva-frontend/Dockerfile</code></p><p>可能需要确保 Dockerfile 中安装了 SSL 相关包：</p><p>dockerfile</p><p>Copy</p><p><code>FROM nginx:alpine # 安装 SSL 相关包 RUN apk add --no-cache openssl # ... 其他配置 ...</code></p><ol start="6"><li>确认 nginx.conf 文件的位置和内容是否正确：</li></ol><p>bash</p><p>Copy</p><p><code># 检查配置文件位置 docker-compose exec frontend sh -c &#39;ls -l /etc/nginx/conf.d/&#39;</code></p><p>要执行这些检查吗？从哪个开始？我们可以根据结果一步步找出问题所在。</p>',30))])}const k=a(l,[["render",m],["__file","docker.html.vue"]]),h=JSON.parse('{"path":"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/docker.html","title":"docker","lang":"zh-CN","frontmatter":{"draw":null,"tags":[],"title":"docker","date created":"2024-07-20T00:00:00.000Z","date modified":"2024-11-12T00:00:00.000Z","description":"docker run -it --rm viva_backend /bin/bash image.png|1000 是 用 docker 的最佳实践 从这个错误看，问题可能出在 SSL 握手阶段。让我们一步步检查： 首先检查 443 端口是否被 Nginx 正确监听： bash Copy # 在服务器上运行 sudo netstat -tulpn | ...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E4%BA%91%E5%8E%9F%E7%94%9F/docker.html"}],["meta",{"property":"og:site_name","content":"转了码的刘公子"}],["meta",{"property":"og:title","content":"docker"}],["meta",{"property":"og:description","content":"docker run -it --rm viva_backend /bin/bash image.png|1000 是 用 docker 的最佳实践 从这个错误看，问题可能出在 SSL 握手阶段。让我们一步步检查： 首先检查 443 端口是否被 Nginx 正确监听： bash Copy # 在服务器上运行 sudo netstat -tulpn | ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F07%2F20%2F22-46-47-16d0d8394aee51737c6924bf849aa23c-20240720224647-c2b05e.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-24T16:17:22.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-24T16:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"docker\\",\\"image\\":[\\"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F07%2F20%2F22-46-47-16d0d8394aee51737c6924bf849aa23c-20240720224647-c2b05e.png\\"],\\"dateModified\\":\\"2024-11-24T16:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"转了码的刘公子\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":1732465042000,"updatedTime":1732465042000,"contributors":[{"name":"Luis","email":"liuysh20@gmail.com","commits":1}]},"readingTime":{"minutes":1.19,"words":356},"filePathRelative":"2 第二大脑/1 节点/CS/操作系统/云原生/docker.md","localizedDate":"2024年11月25日","autoDesc":true}');export{k as comp,h as data};
