import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,f as a,o as d}from"./app-DokaGNO4.js";const p={};function o(l,t){return d(),r("div",null,t[0]||(t[0]=[a('<h2 id="浅拷贝-属性映射" tabindex="-1"><a class="header-anchor" href="#浅拷贝-属性映射"><span>浅拷贝 / 属性映射</span></a></h2><p><code>subtractedArray = Arrays.copyOf(sellPriceArr, sellPriceArr.length);</code></p><p>浅拷贝的场景有啥？</p><p>当我们开启阿里代码扫描®插件时，如果你使用了 Apache BeanUtils。copyProperties 进行属性拷贝，它会给你一个非常严重的警告。因为，Apache BeanUtils 性能较差，可以使用 Spring BeanUtils 或者Cglib BeanCopier 来代替。</p><p>po - dto - vo的转换就是浅拷贝，可以用mapstruct、cglib copy</p><table><thead><tr><th>特性</th><th>Apache BeanUtils</th><th>Spring BeanUtils</th><th>Cglib BeanCopier</th></tr></thead><tbody><tr><td>性能</td><td>较差</td><td>较好</td><td>最佳</td></tr><tr><td>实现方式</td><td>过度使用反射</td><td>反射</td><td>动态字节码生成</td></tr><tr><td>缓存机制</td><td>没有用缓存提高性能</td><td>有</td><td>有</td></tr><tr><td>类型转换</td><td>支持</td><td>有限支持</td><td>不支持</td></tr><tr><td>使用难度</td><td>简单</td><td>简单</td><td>相对复杂</td></tr><tr><td>灵活性</td><td>高</td><td>中</td><td>低</td></tr><tr><td>用哪个？</td><td></td><td>✅平衡了性能和易用性</td><td></td></tr></tbody></table><figure><img src="https://cdn-a.markji.com/files/65b9fbcf3667ade34d5fed51_hd.png?e=1727259572446&amp;token=xX63b9jqTlDOcGmctt5K9254rV0LG8hS9BmDeFBy:azuWw3xqAeirSlCYlOHdylzoq8c=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="深拷贝" tabindex="-1"><a class="header-anchor" href="#深拷贝"><span>深拷贝</span></a></h2><p>https://www.cnblogs.com/jingzh/p/16700921.html</p><p>实现深拷贝有几种方法？</p><p>1.递归重写clone方法</p><p>需要递归地将整个Object Tree的所有类implements Cloneable, 用深拷贝的方式重写clone()方法</p><p>effective java不建议用clone</p><p>直接调super.clone(),只能完成浅拷贝。</p><p>要想深拷贝需要自己补充实现，但是这样的话递归关系嵌在了object tree上的每个clone方法里，容易受到final等修饰符的影响。自己实现每个地方的</p><p>2.先序列化再反序列化</p><p>3.享元模式，如果不可变的fields比较多，可以先浅拷贝，再将其中可变的部分深拷贝</p><p>写一个拷贝构造器或者写一个拷贝工厂</p><p>public MyClass(MyClass other)自己实现方法，对于不可变对象或原始类型，直接浅拷贝即可；对于可变对象或数组，可能需要递归复制每个元素或子对象。</p>',19)]))}const n=e(p,[["render",o],["__file","浅拷贝.html.vue"]]),s=JSON.parse('{"path":"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/%E6%B5%85%E6%8B%B7%E8%B4%9D.html","title":"浅拷贝","lang":"zh-CN","frontmatter":{"draw":null,"tags":[],"title":"浅拷贝","date created":"2024-09-25T00:00:00.000Z","date modified":"2024-11-12T00:00:00.000Z","description":"浅拷贝 / 属性映射 subtractedArray = Arrays.copyOf(sellPriceArr, sellPriceArr.length); 浅拷贝的场景有啥？ 当我们开启阿里代码扫描®插件时，如果你使用了 Apache BeanUtils。copyProperties 进行属性拷贝，它会给你一个非常严重的警告。因为，Apache Be...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/%E6%B5%85%E6%8B%B7%E8%B4%9D.html"}],["meta",{"property":"og:site_name","content":"转了码的刘公子"}],["meta",{"property":"og:title","content":"浅拷贝"}],["meta",{"property":"og:description","content":"浅拷贝 / 属性映射 subtractedArray = Arrays.copyOf(sellPriceArr, sellPriceArr.length); 浅拷贝的场景有啥？ 当我们开启阿里代码扫描®插件时，如果你使用了 Apache BeanUtils。copyProperties 进行属性拷贝，它会给你一个非常严重的警告。因为，Apache Be..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn-a.markji.com/files/65b9fbcf3667ade34d5fed51_hd.png?e=1727259572446&token=xX63b9jqTlDOcGmctt5K9254rV0LG8hS9BmDeFBy:azuWw3xqAeirSlCYlOHdylzoq8c="}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-24T16:17:22.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-24T16:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"浅拷贝\\",\\"image\\":[\\"https://cdn-a.markji.com/files/65b9fbcf3667ade34d5fed51_hd.png?e=1727259572446&token=xX63b9jqTlDOcGmctt5K9254rV0LG8hS9BmDeFBy:azuWw3xqAeirSlCYlOHdylzoq8c=\\"],\\"dateModified\\":\\"2024-11-24T16:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"转了码的刘公子\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"浅拷贝 / 属性映射","slug":"浅拷贝-属性映射","link":"#浅拷贝-属性映射","children":[]},{"level":2,"title":"深拷贝","slug":"深拷贝","link":"#深拷贝","children":[]}],"git":{"createdTime":1732465042000,"updatedTime":1732465042000,"contributors":[{"name":"Luis","email":"liuysh20@gmail.com","commits":1}]},"readingTime":{"minutes":1.52,"words":457},"filePathRelative":"2 第二大脑/1 节点/CS/编程语言/Java/浅拷贝.md","localizedDate":"2024年11月25日","autoDesc":true}');export{n as comp,s as data};
