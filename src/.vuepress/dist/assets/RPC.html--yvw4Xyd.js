import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as e,b as d,d as o,e as r,f as p,r as s,o as C}from"./app-DyPYfXuN.js";const E={},B={id:"有了http-1-1为啥还需要其他-rpc-协议-呢",tabindex:"-1"},P={class:"header-anchor",href:"#有了http-1-1为啥还需要其他-rpc-协议-呢"},m={id:"既然有了-http-2-还需要其他-rpc-协议吗",tabindex:"-1"},a={class:"header-anchor",href:"#既然有了-http-2-还需要其他-rpc-协议吗"};function u(g,t){const l=s("RouteLink");return C(),n("div",null,[t[29]||(t[29]=e("h2",{id:"本质",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#本质"},[e("span",null,"本质")])],-1)),t[30]||(t[30]=e("p",null,[d("RPC（Remote Procedure Call），又叫做远程过程调用。远程调用的本质就是 "),e("code",null,"resp = func（req）"),d("一个方法门面，用本地 CPU 干，就是本地调用，让远方的 CPU 干就是远程过程调用。")],-1)),e("p",null,[t[1]||(t[1]=d("它本身并不是一个具体的协议，而是一种调用方式，如果说 RPC 是汽车，HTTP 和 ")),t[2]||(t[2]=e("code",null,"gRPC",-1)),t[3]||(t[3]=d("、")),t[4]||(t[4]=e("code",null,"thrift",-1)),t[5]||(t[5]=d("。分别是吉利、奇瑞、特斯拉。可以说，RPC 约等于应用层，")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%201.1.html"},{default:r(()=>t[0]||(t[0]=[d("HTTP 1.1")])),_:1}),t[6]||(t[6]=d(" 和 ")),t[7]||(t[7]=e("code",null,"gRPC",-1)),t[8]||(t[8]=d("、")),t[9]||(t[9]=e("code",null,"thrift",-1)),t[10]||(t[10]=d("都是它的实现。"))]),t[31]||(t[31]=e("figure",null,[e("img",{src:"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F09%2F21%2F18-39-52-d35889869d2d69d43cf854f36da06dc8-202409211839575-f3fb8e.png",alt:"image.png|1000",tabindex:"0",loading:"lazy"}),e("figcaption",null,"image.png|1000")],-1)),t[32]||(t[32]=e("h2",{id:"为啥需要-rpc-协议",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#为啥需要-rpc-协议"},[e("span",null,"为啥需要 RPC 协议？")])],-1)),e("p",null,[t[13]||(t[13]=d("简单的")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/TCP.html"},{default:r(()=>t[11]||(t[11]=[d("TCP")])),_:1}),t[14]||(t[14]=d("因为粘包，并不能实现让远方的 CPU 干活的这个诉求，所以需要一些协议，早在 70 年代就涌现初很多 RPC 协议。 但是这些 RPC 本质都是方言，应用范围很小，类似与电脑上的 360 管家和 360 公司的服务器通话。后来，有了浏览器以后，不同公司的服务器要互相通话了，这就需要一种普通话。")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%201.1.html"},{default:r(()=>t[12]||(t[12]=[d("HTTP 1.1")])),_:1}),t[15]||(t[15]=d("就诞生了！"))]),e("h2",B,[e("a",P,[e("span",null,[t[17]||(t[17]=d("有了")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%201.1.html"},{default:r(()=>t[16]||(t[16]=[d("HTTP 1.1")])),_:1}),t[18]||(t[18]=d("为啥还需要其他 RPC 协议 呢？"))])])]),t[33]||(t[33]=p("<table><thead><tr><th>特性</th><th>HTTP/1.1</th><th>其他RPC协议</th></tr></thead><tbody><tr><td>服务发现</td><td>通过DNS解析域名获得IP地址，默认80端口</td><td>通常使用专门的中间服务（如Consul、Etcd、Redis）存储服务名和IP信息</td></tr><tr><td>底层连接形式</td><td>TCP长连接（Keep Alive），可选用连接池</td><td>TCP长连接，通常使用连接池</td></tr><tr><td>传输内容</td><td>主要为字符串，包括Header和Body<br>Body常用JSON序列化</td><td>更灵活，常用Protobuf等更高效的序列化方式</td></tr><tr><td>设计初衷</td><td>网页文本展示，后扩展到多媒体</td><td>定制化程度高，面向特定服务调用</td></tr><tr><td>数据冗余</td><td>较高，Header和Body中存在重复信息</td><td>较低，可以通过协议约定减少冗余</td></tr><tr><td>性能</td><td>相对较低，但通用性强</td><td>相对较高，适合内部微服务</td></tr><tr><td>使用场景</td><td>公共互联网服务，需要广泛兼容性</td><td>公司内部微服务，追求高性能</td></tr></tbody></table>",1)),e("p",null,[t[20]||(t[20]=d("所以这个阶段，RPC 的性能是要比")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%201.1.html"},{default:r(()=>t[19]||(t[19]=[d("HTTP 1.1")])),_:1}),t[21]||(t[21]=d("好的，所以很多场景下还是继续用 RPC 的"))]),e("h2",m,[e("a",a,[e("span",null,[t[23]||(t[23]=d("既然有了 ")),o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%202.html"},{default:r(()=>t[22]||(t[22]=[d("HTTP 2")])),_:1}),t[24]||(t[24]=d("，还需要其他 RPC 协议吗？"))])])]),e("p",null,[o(l,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/HTTP%202.html"},{default:r(()=>t[25]||(t[25]=[d("HTTP 2")])),_:1}),t[26]||(t[26]=d(" 在 HTTP/1.1 的基础上做了很多改进，所以性能可能比很多 RPC 协议还要好，甚至连 ")),t[27]||(t[27]=e("code",null,"gRPC",-1)),t[28]||(t[28]=d(" 底层都直接用的 HTTP/2。"))]),t[34]||(t[34]=e("p",null,[e("strong",null,"历史原因"),d("，这个是由于 HTTP/2是2015年出来的。那时候很多公司内部的 RPC协议都已经跑了好些年了，基于历史原因，一般也没必要去换了。")],-1)),t[35]||(t[35]=e("h2",{id:"参考资料",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考资料"},[e("span",null,"参考资料")])],-1)),t[36]||(t[36]=e("p",null,[d("既然有 HTTP 协议，为什么还要有 RPC - 其所以然的文章 - 知乎"),e("br"),d(" https://zhuanlan.zhihu.com/p/678738021")],-1))])}const f=i(E,[["render",u],["__file","RPC.html.vue"]]),R=JSON.parse('{"path":"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/RPC.html","title":"RPC","lang":"zh-CN","frontmatter":{"aliases":["Remote Procedure Call"],"draw":null,"tags":[],"title":"RPC","date created":"2024-09-21T00:00:00.000Z","date modified":"2024-11-12T00:00:00.000Z","description":"本质 RPC（Remote Procedure Call），又叫做远程过程调用。远程调用的本质就是 resp = func（req）一个方法门面，用本地 CPU 干，就是本地调用，让远方的 CPU 干就是远程过程调用。 它本身并不是一个具体的协议，而是一种调用方式，如果说 RPC 是汽车，HTTP 和 gRPC、thrift。分别是吉利、奇瑞、特斯拉。...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/RPC.html"}],["meta",{"property":"og:site_name","content":"转了码的刘公子"}],["meta",{"property":"og:title","content":"RPC"}],["meta",{"property":"og:description","content":"本质 RPC（Remote Procedure Call），又叫做远程过程调用。远程调用的本质就是 resp = func（req）一个方法门面，用本地 CPU 干，就是本地调用，让远方的 CPU 干就是远程过程调用。 它本身并不是一个具体的协议，而是一种调用方式，如果说 RPC 是汽车，HTTP 和 gRPC、thrift。分别是吉利、奇瑞、特斯拉。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F09%2F21%2F18-39-52-d35889869d2d69d43cf854f36da06dc8-202409211839575-f3fb8e.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-24T16:17:22.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-24T16:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"RPC\\",\\"image\\":[\\"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F09%2F21%2F18-39-52-d35889869d2d69d43cf854f36da06dc8-202409211839575-f3fb8e.png\\"],\\"dateModified\\":\\"2024-11-24T16:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"转了码的刘公子\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"本质","slug":"本质","link":"#本质","children":[]},{"level":2,"title":"为啥需要 RPC 协议？","slug":"为啥需要-rpc-协议","link":"#为啥需要-rpc-协议","children":[]},{"level":2,"title":"有了HTTP 1.1为啥还需要其他 RPC 协议 呢？","slug":"有了http-1-1为啥还需要其他-rpc-协议-呢","link":"#有了http-1-1为啥还需要其他-rpc-协议-呢","children":[]},{"level":2,"title":"既然有了 HTTP 2，还需要其他 RPC 协议吗？","slug":"既然有了-http-2-还需要其他-rpc-协议吗","link":"#既然有了-http-2-还需要其他-rpc-协议吗","children":[]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"createdTime":1732465042000,"updatedTime":1732465042000,"contributors":[{"name":"Luis","email":"liuysh20@gmail.com","commits":1}]},"readingTime":{"minutes":2.39,"words":718},"filePathRelative":"2 第二大脑/1 节点/CS/分布式系统/RPC.md","localizedDate":"2024年11月25日","autoDesc":true}');export{f as comp,R as data};
