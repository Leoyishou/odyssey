import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as p,g as a,f as r,o as l}from"./app-DokaGNO4.js";const n={};function s(i,e){return l(),o("div",null,[e[0]||(e[0]=p("p",null,"excerpt",-1)),a(" more "),e[1]||(e[1]=r('<p>PostgreSQL（通常称为 PG 库）的数据实际上存储在文件系统的一组文件中，这些文件位于服务器上的一个特定目录中。这个目录被称为数据目录，通常在 PostgreSQL 配置文件（<code>postgresql.conf</code>）中设置为 <code>data_directory</code>。</p><h2 id="数据存储位置" tabindex="-1"><a class="header-anchor" href="#数据存储位置"><span>数据存储位置</span></a></h2><ol><li><strong>数据文件</strong>：表数据、索引等都存储在数据目录中的文件里。</li><li><strong>事务日志（WAL）文件</strong>：这些是用于数据恢复和确保数据完整性的日志文件。</li><li><strong>配置文件</strong>：如 <code>postgresql.conf</code> 和 <code>pg_hba.conf</code> 等配置文件也位于此目录。</li></ol><h2 id="数据导出与迁移" tabindex="-1"><a class="header-anchor" href="#数据导出与迁移"><span>数据导出与迁移</span></a></h2><p>迁移 PostgreSQL 数据库通常涉及数据的备份与恢复。下面是一些常用的方法：</p><h3 id="_1-sql-转储-pg-dump-和-pg-dumpall" tabindex="-1"><a class="header-anchor" href="#_1-sql-转储-pg-dump-和-pg-dumpall"><span>1. SQL 转储（pg_dump 和 pg_dumpall）</span></a></h3><ul><li><p><strong>pg_dump</strong>：用于导出一个或多个数据库的数据和结构到一个文件中。这个文件可以是 SQL 语句的集合，也可以是二进制格式。</p><p>bash</p><p>Copy code</p><p><code>pg_dump -U username -W -F c -b -v -f &quot;/path/to/your/file.backup&quot; dbname</code></p><p>这条命令会提示你输入密码，然后创建一个格式化的备份文件。</p></li><li><p><strong>pg_dumpall</strong>：导出整个数据库服务器的所有数据库和角色数据。</p><p>bash</p><p>Copy code</p><p><code>pg_dumpall -U username -W -f &quot;/path/to/your/file.sql&quot;</code></p><p>这会生成一个 SQL 脚本文件，包括创建数据库和用户的命令。</p></li></ul><h3 id="_2-物理备份-文件系统级备份" tabindex="-1"><a class="header-anchor" href="#_2-物理备份-文件系统级备份"><span>2. 物理备份（文件系统级备份）</span></a></h3><ul><li><strong>直接复制数据目录</strong>：在数据库停机的情况下，可以直接复制整个数据目录到另一位置或另一服务器。</li><li><strong>使用工具如 rsync</strong>：对于较大的</li></ul>',9))])}const m=t(n,[["render",s],["__file","PG 数据导出迁移.html.vue"]]),g=JSON.parse('{"path":"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/PG%20%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E8%BF%81%E7%A7%BB.html","title":"PG 数据导出迁移","lang":"zh-CN","frontmatter":{"draw":null,"title":"PG 数据导出迁移","tags":["信息革命","数据","数据库最佳实践"],"date created":"2024-05-01T00:00:00.000Z","date modified":"2024-11-12T00:00:00.000Z","description":"excerpt PostgreSQL（通常称为 PG 库）的数据实际上存储在文件系统的一组文件中，这些文件位于服务器上的一个特定目录中。这个目录被称为数据目录，通常在 PostgreSQL 配置文件（postgresql.conf）中设置为 data_directory。 数据存储位置 数据文件：表数据、索引等都存储在数据目录中的文件里。 事务日志（W...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/PG%20%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA%E8%BF%81%E7%A7%BB.html"}],["meta",{"property":"og:site_name","content":"转了码的刘公子"}],["meta",{"property":"og:title","content":"PG 数据导出迁移"}],["meta",{"property":"og:description","content":"excerpt PostgreSQL（通常称为 PG 库）的数据实际上存储在文件系统的一组文件中，这些文件位于服务器上的一个特定目录中。这个目录被称为数据目录，通常在 PostgreSQL 配置文件（postgresql.conf）中设置为 data_directory。 数据存储位置 数据文件：表数据、索引等都存储在数据目录中的文件里。 事务日志（W..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-24T16:17:22.000Z"}],["meta",{"property":"article:tag","content":"信息革命"}],["meta",{"property":"article:tag","content":"数据"}],["meta",{"property":"article:tag","content":"数据库最佳实践"}],["meta",{"property":"article:modified_time","content":"2024-11-24T16:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"PG 数据导出迁移\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-24T16:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"转了码的刘公子\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"数据存储位置","slug":"数据存储位置","link":"#数据存储位置","children":[]},{"level":2,"title":"数据导出与迁移","slug":"数据导出与迁移","link":"#数据导出与迁移","children":[{"level":3,"title":"1. SQL 转储（pg_dump 和 pg_dumpall）","slug":"_1-sql-转储-pg-dump-和-pg-dumpall","link":"#_1-sql-转储-pg-dump-和-pg-dumpall","children":[]},{"level":3,"title":"2. 物理备份（文件系统级备份）","slug":"_2-物理备份-文件系统级备份","link":"#_2-物理备份-文件系统级备份","children":[]}]}],"git":{"createdTime":1732465042000,"updatedTime":1732465042000,"contributors":[{"name":"Luis","email":"liuysh20@gmail.com","commits":1}]},"readingTime":{"minutes":1.44,"words":432},"filePathRelative":"2 第二大脑/1 节点/CS/软件工程/数据库/数据库最佳实践/PG 数据导出迁移.md","localizedDate":"2024年11月25日","autoDesc":true}');export{m as comp,g as data};
