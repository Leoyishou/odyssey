import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,f as d,a,b as i,d as n,e as l,r as k,o as p}from"./app-DokaGNO4.js";const r={};function g(A,t){const s=k("RouteLink");return p(),h("div",null,[t[7]||(t[7]=d(`<figure><img src="https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F10%2F03%2F19-36-10-1028673df0cbd44890ba678e109badd7-202410031936659-73b8fd.png" alt="image.png|1000" tabindex="0" loading="lazy"><figcaption>image.png|1000</figcaption></figure><table><thead><tr><th>模块</th><th>讲次</th><th>标题</th><th>时长</th><th></th></tr></thead><tbody><tr><td>开篇词</td><td>开篇词</td><td>这一次，让我们一起来搞懂MySQL</td><td>06:04</td><td></td></tr><tr><td>基础篇</td><td>01</td><td>基础架构：一条SQL查询语句是如何执行的？</td><td>12:51</td><td></td></tr><tr><td></td><td>02</td><td>日志系统：一条SQL更新语句是如何执行的？</td><td>15:07</td><td></td></tr><tr><td></td><td>03</td><td>事务隔离：为什么你改了我还看不见？</td><td>11:02</td><td></td></tr><tr><td></td><td>04</td><td>深入浅出索引（上）</td><td>15:29</td><td></td></tr><tr><td></td><td>05</td><td>深入浅出索引（下）</td><td>09:52</td><td></td></tr><tr><td></td><td>06</td><td>全局锁和表锁：给表加个字段怎么有这么多阻碍？</td><td>13:02</td><td></td></tr><tr><td></td><td>07</td><td>行锁功过：怎么减少行锁对性能的影响？</td><td>11:32</td><td></td></tr><tr><td></td><td>08</td><td>事务到底是隔离的还是不隔离的？</td><td>19:05</td><td></td></tr><tr><td>实践篇</td><td>09</td><td>普通索引和唯一索引，应该怎么选择？</td><td>15:40</td><td></td></tr><tr><td></td><td>10</td><td>MySQL为什么有时候会选错索引？</td><td>17:29</td><td></td></tr><tr><td></td><td>11</td><td>怎么给字符串字段加索引？</td><td>12:48</td><td></td></tr><tr><td></td><td>12</td><td>为什么我的MySQL会&quot;抖&quot;一下？</td><td>15:37</td><td></td></tr><tr><td></td><td>13</td><td>为什么表数据删掉一半，表文件大小不变？</td><td>14:37</td><td></td></tr><tr><td></td><td>14</td><td>count(*)这么慢，我该怎么办？</td><td>15:23</td><td></td></tr><tr><td></td><td>15</td><td>答疑文章（一）：日志和索引相关问题</td><td>20:20</td><td></td></tr><tr><td></td><td>16</td><td>&quot;order by&quot;是怎么工作的？</td><td>17:01</td><td></td></tr><tr><td></td><td>17</td><td>如何正确地显示随机消息？</td><td>16:28</td><td></td></tr><tr><td></td><td>18</td><td>为什么这些SQL语句逻辑相同，性能却差异巨大？</td><td>15:36</td><td></td></tr><tr><td></td><td>19</td><td>为什么我只查一行的语句，也执行这么慢？</td><td>12:21</td><td></td></tr><tr><td></td><td>20</td><td>幻读是什么，幻读有什么问题？</td><td>19:27</td><td></td></tr><tr><td></td><td>21</td><td>为什么我只改一行的语句，锁这么多？</td><td>17:38</td><td></td></tr><tr><td></td><td>22</td><td>MySQL有哪些&quot;饮鸩止渴&quot;提高性能的方法？</td><td>14:47</td><td></td></tr><tr><td></td><td>23</td><td>MySQL是怎么保证数据不丢的？</td><td>17:04</td><td></td></tr><tr><td></td><td>24</td><td>MySQL是怎么保证主备一致的？</td><td>19:52</td><td></td></tr><tr><td></td><td>25</td><td>MySQL是怎么保证高可用的？</td><td>17:23</td><td></td></tr><tr><td></td><td>26</td><td>备库为什么会延迟好几个小时？</td><td>23:17</td><td></td></tr><tr><td></td><td>27</td><td>主库出问题了，从库怎么办？</td><td>19:55</td><td></td></tr><tr><td></td><td>28</td><td>读写分离有哪些坑？</td><td>21:22</td><td></td></tr><tr><td></td><td>29</td><td>如何判断一个数据库是不是出问题了？</td><td>14:31</td><td></td></tr><tr><td></td><td>30</td><td>答疑文章（二）：用动态的观点看加锁</td><td>15:43</td><td></td></tr><tr><td></td><td>31</td><td>误删数据后除了跑路，还能怎么办？</td><td>15:31</td><td></td></tr><tr><td></td><td>32</td><td>为什么还有kill不掉的语句？</td><td>13:38</td><td></td></tr><tr><td></td><td>33</td><td>我查这么多数据，会不会把数据库内存打爆？</td><td>14:33</td><td></td></tr><tr><td></td><td>34</td><td>到底可不可以使用join？</td><td>16:42</td><td></td></tr><tr><td></td><td>35</td><td>join语句怎么优化？</td><td>16:39</td><td></td></tr><tr><td></td><td>36</td><td>为什么临时表可以重名？</td><td>16:07</td><td></td></tr><tr><td></td><td>37</td><td>什么时候会使用内部临时表？</td><td>13:54</td><td></td></tr><tr><td></td><td>38</td><td>都说InnoDB好，那还要不要使用Memory引擎？</td><td>14:00</td><td></td></tr><tr><td></td><td>39</td><td>自增主键为什么不是连续的？</td><td>17:34</td><td></td></tr><tr><td></td><td>40</td><td>insert语句的锁为什么这么多？</td><td>12:18</td><td></td></tr><tr><td></td><td>41</td><td>怎么最快地复制一张表？</td><td>13:30</td><td></td></tr><tr><td></td><td>42</td><td>grant之后要跟着flush privileges吗？</td><td>12:54</td><td></td></tr><tr><td></td><td>43</td><td>要不要使用分区表？</td><td>12:51</td><td></td></tr><tr><td></td><td>44</td><td>答疑文章（三）：说一说这些好问题</td><td>16:21</td><td></td></tr><tr><td></td><td>45</td><td>自增id用完怎么办？</td><td>17:07</td><td></td></tr><tr><td>特别放送</td><td>直播回顾</td><td>林晓斌：我的 MySQL 心路历程</td><td>18:43</td><td></td></tr><tr><td>结束语</td><td>结束语</td><td>点线网面，一起构建MySQL知识网络</td><td>08:01</td><td></td></tr><tr><td>结课测试</td><td>结课测试</td><td>这些MySQL知识你都掌握了吗？</td><td>00:28</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2024</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">07</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">31</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 15</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">08</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">][</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">QTraceId</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">h_grocery_240730</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">160200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">71</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">162</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">188</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">247</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">2_0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">QSpanId</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">]][db</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">guardian</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">check</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">thread</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">][</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">qunar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">db</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">guardian</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">RunningSqlHolds</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">][WARN ] db_guardian sql time too </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">long</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">will cancel ds</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">pxc_hotel_common_w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">sql</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">select</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                trace_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user_request_code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">validation_time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">booking_reason</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                from_date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">to_date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">hotel_seq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">room_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">wrapper_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">city_url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">submit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                detail_reason</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">validation_result_type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">wrapper_product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">query</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">order_product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">final_result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fields_detail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">change_reasons</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">business_type</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                from validation_detail</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">                 WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  validation_time </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                                and validation_time </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                order by validation_time desc limit </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">md5</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">d54dbee37ee6726eb664e7e16ed7ede3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">qtrace</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">h_grocery_240731</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">150759</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">71</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">146</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">129</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">225</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">16122_1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40866</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>性能问题：这些日志显示 SQL 查询执行时间过长（超过 20 秒和 35 秒），导致数据库守护进程准备取消这些查询。</p><h2 id="网络协议" tabindex="-1"><a class="header-anchor" href="#网络协议"><span>网络协议</span></a></h2>`,5)),a("p",null,[t[2]||(t[2]=i("就像浏览器之间用基于")),n(s,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/TCP.html"},{default:l(()=>t[0]||(t[0]=[i("TCP")])),_:1}),t[3]||(t[3]=i("的")),n(s,{to:"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/HTTP%201.1.html"},{default:l(()=>t[1]||(t[1]=[i("HTTP 1.1")])),_:1}),t[4]||(t[4]=i("通信一样，想和 Mysql 数据库通信，需要通过一种")),t[5]||(t[5]=a("strong",null,"MySQL 协议",-1)),t[6]||(t[6]=i("，以下是关于 MySQL 协议的一些重要信息："))]),t[8]||(t[8]=d(`<ol><li>基础协议： <ul><li>MySQL 协议是基于 TCP/IP 的。</li><li>默认情况下，MySQL 服务器监听 TCP 端口 3306。</li></ul></li><li>协议特性： <ul><li>它是一个二进制协议，不像 HTTP 那样是文本协议。</li><li>支持全双工通信，允许客户端和服务器同时发送数据。</li></ul></li><li>协议结构： MySQL 协议的通信包括几个主要部分： <ul><li>握手阶段（身份验证）</li><li>命令阶段（查询执行）</li><li>结果集传输</li></ul></li><li>安全性： <ul><li>支持 SSL/TLS 加密，可以在 TCP 层之上添加加密层。</li><li>包含各种身份验证方法，如密码认证、证书认证等。</li></ul></li><li>版本差异： <ul><li>不同版本的 MySQL 可能在协议细节上有所不同。</li><li>MySQL 8.0 引入了一些新的协议特性，如 caching_sha2_password 认证。</li></ul></li></ol><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" data-title="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    participant Client</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    participant Server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Client-&gt;&gt;Server: TCP Connection</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Server-&gt;&gt;Client: Handshake Packet</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Client-&gt;&gt;Server: Authentication Response</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Server-&gt;&gt;Client: OK or Error Packet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    loop Command Phase</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        Client-&gt;&gt;Server: Command Packet (e.g., Query)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        Server-&gt;&gt;Client: Result Set or OK/Error Packet</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Client-&gt;&gt;Server: Quit Command</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Server-&gt;&gt;Client: OK Packet</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    Note over Client,Server: TCP Connection Closed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个流程图展示了 MySQL 客户端和服务器之间的基本通信过程。</p><p>比较 MySQL 协议和 HTTP：</p><ol><li><p>用途：</p><ul><li>HTTP 主要用于 Web 通信。</li><li>MySQL 协议专门用于数据库操作。</li></ul></li><li><p>结构：</p><ul><li>HTTP 是无状态的，每个请求都是独立的。</li><li>MySQL 协议是有状态的，维护一个持续的会话。</li></ul></li><li><p>数据格式：</p><ul><li>HTTP 主要使用文本格式（虽然可以传输二进制数据）。</li><li>MySQL 协议使用二进制格式，效率更高。</li></ul></li><li><p>连接管理：</p><ul><li>HTTP 通常是短连接（尽管 HTTP/1.1 引入了持久连接）。</li><li>MySQL 通常保持长连接，以减少连接建立的开销。</li></ul></li><li><p>复杂性：</p><ul><li>HTTP 相对简单，易于调试。</li><li>MySQL 协议更复杂，专门针对数据库操作进行了优化。</li></ul></li></ol><p>在实际应用中，开发者通常不需要直接处理 MySQL 协议的细节。数据库驱动程序（如 Python 的 mysql-connector 或 mysqlclient）会处理这些底层通信细节。</p><p>但是，了解这些协议的工作原理对于优化数据库性能、排查连接问题和理解网络安全性都很有帮助。您对 MySQL 协议的某个特定方面感兴趣，或者想了解更多关于如何在应用中高效使用 MySQL 连接的信息吗？</p>`,7))])}const o=e(r,[["render",g],["__file","MySQL.html.vue"]]),F=JSON.parse('{"path":"/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html","title":"MySQL","lang":"zh-CN","frontmatter":{"draw":null,"tags":[],"title":"MySQL","date created":"2024-07-31T00:00:00.000Z","date modified":"2024-11-12T00:00:00.000Z","description":"image.png|1000image.png|1000 性能问题：这些日志显示 SQL 查询执行时间过长（超过 20 秒和 35 秒），导致数据库守护进程准备取消这些查询。 网络协议 就像浏览器之间用基于的通信一样，想和 Mysql 数据库通信，需要通过一种MySQL 协议，以下是关于 MySQL 协议的一些重要信息： 基础协议： MySQL 协议是...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/2%20%E7%AC%AC%E4%BA%8C%E5%A4%A7%E8%84%91/1%20%E8%8A%82%E7%82%B9/CS/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL.html"}],["meta",{"property":"og:site_name","content":"转了码的刘公子"}],["meta",{"property":"og:title","content":"MySQL"}],["meta",{"property":"og:description","content":"image.png|1000image.png|1000 性能问题：这些日志显示 SQL 查询执行时间过长（超过 20 秒和 35 秒），导致数据库守护进程准备取消这些查询。 网络协议 就像浏览器之间用基于的通信一样，想和 Mysql 数据库通信，需要通过一种MySQL 协议，以下是关于 MySQL 协议的一些重要信息： 基础协议： MySQL 协议是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F10%2F03%2F19-36-10-1028673df0cbd44890ba678e109badd7-202410031936659-73b8fd.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-24T16:17:22.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-24T16:17:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySQL\\",\\"image\\":[\\"https://imagehosting4picgo.oss-cn-beijing.aliyuncs.com/imagehosting/fix-dir%2Fpicgo%2Fpicgo-clipboard-images%2F2024%2F10%2F03%2F19-36-10-1028673df0cbd44890ba678e109badd7-202410031936659-73b8fd.png\\"],\\"dateModified\\":\\"2024-11-24T16:17:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"转了码的刘公子\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"网络协议","slug":"网络协议","link":"#网络协议","children":[]}],"git":{"createdTime":1732465042000,"updatedTime":1732465042000,"contributors":[{"name":"Luis","email":"liuysh20@gmail.com","commits":1}]},"readingTime":{"minutes":5.25,"words":1574},"filePathRelative":"2 第二大脑/1 节点/CS/软件工程/数据库/MySQL.md","localizedDate":"2024年11月25日","autoDesc":true}');export{o as comp,F as data};
