---
draw:
tags: []
title: 时钟
date created: 2024-12-25
date modified: 2024-12-27
---
- **操作系统要"分配时间"给大家**  
    你的电脑可能同时要运行很多程序，比如游戏、浏览器、音乐播放器。要是其中一个程序一直霸占着 CPU，不让出时间，其他程序就没法顺利工作。
- **时钟"叮"一下，是给操作系统发个信号**  
    操作系统设置了一个"小闹钟"（硬件定时器），让它定时"叮"一下，提醒操作系统："诶，现在过了一个时间片了，你要不要换个程序来跑啊？"
- **被时钟"打断"，进入内核**  
    当这个小闹钟响了，CPU 立刻暂停正在运行的用户程序，跳到内核里运行一段"特殊程序"（时钟中断处理例程）。这个程序会决定是否要让当前进程再继续跑，还是切换到别的进程去跑，或者做一些别的周期性工作（比如维护系统时间等）。
- **然后再回去**  
    处理完以后，操作系统又把 CPU 切回给某个进程（可能是原来那个，也可能是别的）。于是，用户程序继续从刚才被打断的地方继续运行。
