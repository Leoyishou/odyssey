---
comment_id: d36ea210
date created: 2024-09-21
date modified: 2025-02-06
draw: null
title: CPP
---
在 C++ 中，`uint32_t` 是一个无符号的 32 位整数类型，只能表示非负数，其取值范围为 0 到 4,294,967,295（即 2³² - 1）。

在 Java 中，虽然没有直接对应的无符号 32 位整数类型，但 Java 的 `int` 是有符号类型，其取值范围为 -2,147,483,648 到 2,147,483,647。

## \0

`\0` 是 C/C++ 中的空字符（null character），它是一个字节值为 0 的字符。在 C/C++ 中有几个重要用途：

1. 字符串结束符

```cpp
// C 风格字符串以 \0 结尾
char str[] = "Hello";  // 实际存储：['H','e','l','l','o','\0']
```

1. 表示空白或未使用的位置

```cpp
// 在 StreamReassembler 中的用法
std::deque<char> buffer;
buffer.push_back('\0');  // 用 \0 标记这个位置暂时没有有效数据

// 形象地表示：
+---+---+---+---+---+---+
| H | e | l | \0| \0| \0|  <- 后面的 \0 是未使用的位置
+---+---+---+---+---+---+
  ↑   ↑   ↑   ↑   ↑   ↑
  有效数据   空位置标记
```

1. 与位图（bitmap）配合使用

```cpp
std::deque<char> buffer;   // 存储数据
std::deque<bool> bitmap;   // 标记对应位置是否有效

buffer.push_back('\0');    // 数据位置预留
bitmap.push_back(false);   // 标记该位置数据无效

// 形象表示：
数据:  | H | e | l | \0| \0| \0|
位图:  | 1 | 1 | 1 | 0 | 0 | 0 |  (1表示有效，0表示无效)
```

这就像是在一个笔记本上：

- 已写入的内容是有效数据
- 空白页用 `\0` 标记
- 位图就像是目录，告诉你哪些页有内容，哪些是空白的

在 StreamReassembler 中，当移除前面的数据时，需要在后面补充 `\0` 来维持缓冲区的大小，这样位图才能正确对应每个位置。
